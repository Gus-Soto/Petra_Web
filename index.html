<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PETRAX - Maquinaria Lovol</title>
  
  <!-- Cargar Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Cargar Fuente Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  
  <style>
    /* Aplicar fuente base y scroll suave */
    body {
      font-family: 'Inter', sans-serif;
    }
    html {
      scroll-behavior: smooth;
    }
    
    /* Animación para el modal */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .animate-fadeIn {
      animation: fadeIn 0.3s ease-out;
    }
  </style>
</head>
<body class="flex flex-col min-h-screen">

  <!-- --- Componente Header (Navegación) --- -->
  <header class="bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-40 font-inter">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-20">
        
        <!-- Logo -->
        <a href="#" class="flex-shrink-0 flex items-center">
          <img 
            src="https://i.ibb.co/tNKj65j/Chat-GPT-Image-1-nov-2025-12-01-19-p-m.png" 
            alt="Logo PETRAX" 
            class="h-20 sm:h-24"
            crossOrigin="anonymous"
            onError="(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/150x80/ffffff/333333?text=PETRAX'; }"
          />
        </a>
        
        <!-- Navegación de Escritorio -->
        <nav class="hidden md:flex space-x-8">
          <a href="#about" class="text-gray-600 hover:text-green-700 font-medium transition-colors duration-200">Nosotros</a>
          <a href="#brands" class="text-gray-600 hover:text-green-700 font-medium transition-colors duration-200">Marcas</a>
          <a href="#agricultural" class="text-gray-600 hover:text-green-700 font-medium transition-colors duration-200">Agrícola</a>
          <a href="#construction" class="text-gray-600 hover:text-green-700 font-medium transition-colors duration-200">Construcción</a>
          <a href="#contact" class="text-gray-600 hover:text-green-700 font-medium transition-colors duration-200">Contacto</a>
        </nav>
        
        <!-- Botón de Menú Móvil -->
        <div class="md:hidden">
          <button id="mobile-menu-button" class="text-gray-700 hover:text-green-700" aria-label="Abrir menú">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
        </div>

      </div>
    </div>
    
    <!-- Menú Móvil -->
    <div id="mobile-menu" class="hidden md:hidden absolute top-full left-0 w-full bg-white shadow-lg z-50">
      <nav class="flex flex-col p-4 space-y-2">
        <a href="#about" class="text-gray-700 hover:bg-green-50 hover:text-green-700 font-medium p-3 rounded-lg transition-colors duration-200">Nosotros</a>
        <a href="#brands" class="text-gray-700 hover:bg-green-50 hover:text-green-700 font-medium p-3 rounded-lg transition-colors duration-200">Marcas</a>
        <a href="#agricultural" class="text-gray-700 hover:bg-green-50 hover:text-green-700 font-medium p-3 rounded-lg transition-colors duration-200">Agrícola</a>
        <a href="#construction" class="text-gray-700 hover:bg-green-50 hover:text-green-700 font-medium p-3 rounded-lg transition-colors duration-200">Construcción</a>
        <a href="#contact" class="text-gray-700 hover:bg-green-50 hover:text-green-700 font-medium p-3 rounded-lg transition-colors duration-200">Contacto</a>
      </nav>
    </div>
  </header>

  <main class="flex-grow">

    <!-- --- Componente Hero --- -->
    <section 
      id="hero" 
      class="relative h-[60vh] min-h-[400px] sm:h-[70vh] md:h-[80vh] flex items-center justify-center text-center text-white bg-gray-800 overflow-hidden"
    >
      <!-- Fondo de video en bucle -->
      <div class="absolute z-0 inset-0 w-full h-full">
        <iframe
          src="https://streamable.com/e/x65667?autoplay=1&muted=1&loop=1"
          frameBorder="0"
          allow="autoplay; fullscreen"
          allowFullScreen
          style="position: absolute; top: 50%; left: 50%; width: 100vw; height: 56.25vw; min-height: 100vh; min-width: 177.77vh; transform: translate(-50%, -50%); pointer-events: none; opacity: 0.4;"
        ></iframe>
        <div class="absolute inset-0 bg-gradient-to-t from-gray-900/50 via-transparent to-transparent"></div>
      </div>
      
      <!-- Contenido -->
      <div class="relative z-10 p-4 font-inter">
        <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold mb-4 leading-tight" style="text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);">
          Potencia y Eficiencia para su Proyecto
        </h1>
        <p class="text-lg sm:text-xl md:text-2xl font-light mb-8 max-w-3xl mx-auto" style="text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);">
          Representantes oficiales de Lovol. La mejor maquinaria agrícola y de construcción.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="#agricultural" 
            class="bg-green-700 hover:bg-green-800 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors duration-300 shadow-lg"
          >
            Ver Equipos
          </a>
          <a 
            href="#contact" 
            class="bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors duration-300 border border-white/50"
          >
            Contáctenos
          </a>
        </div>
      </div>
    </section>

    <!-- --- Componente About --- -->
    <section id="about" class="py-16 sm:py-24 bg-white font-inter">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-2 gap-12 items-center">
          
          <!-- Imagen -->
          <div class="rounded-lg overflow-hidden shadow-xl">
            <img 
              src="https://i.ibb.co/twt5hRBM/Chat-GPT-Image-31-oct-2025-10-28-55-p-m.png"
              alt="Equipo de PETRAX" 
              class="w-full h-full object-cover"
              crossOrigin="anonymous"
              onError="(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/600x450/cccccc/333333?text=Nosotros'; }"
            />
          </div>
          
          <!-- Texto -->
          <div>
            <span class="text-green-700 font-semibold uppercase tracking-wider">Quiénes Somos</span>
            <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 mt-2 mb-6">
              Su socio de confianza en maquinaria pesada
            </h2>
            <p class="text-lg text-gray-600 mb-6 leading-relaxed">
              En PETRAX, somos más que distribuidores; somos sus socios estratégicos. Como representantes oficiales de Lovol, ofrecemos equipos de última generación diseñados para maximizar su productividad.
            </p>
            <p class="text-lg text-gray-600 mb-8 leading-relaxed">
              Nuestro compromiso es brindar un servicio post-venta excepcional, repuestos garantizados y la asesoría técnica que su operación agrícola o de construcción necesita para no detenerse.
            </p>
            <a 
              href="#contact" 
              class="bg-green-700 hover:bg-green-800 text-white font-bold py-3 px-6 rounded-lg text-md transition-colors duration-300 shadow-lg shadow-green-500/30"
            >
              Solicitar Asesoría
            </a>
          </div>
          
        </div>
      </div>
    </section>

    <!-- --- Componente BrandsSection --- -->
    <section id="brands" class="py-16 sm:py-24 bg-gray-50 font-inter">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 text-center mb-4 flex flex-col items-center justify-center gap-4">
          <span>Somos Representantes Oficiales de</span>
          <img 
            src="https://i.ibb.co/yFJCb9fK/logo.png" 
            alt="Logo Lovol" 
            class="h-[108px] sm:h-[129px] md:h-[150px] lg:h-[174px]"
            crossOrigin="anonymous"
            onError="(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/150x40/ffffff/333333?text=LOVOL'; }"
          />
        </h2>
        <p class="text-lg text-gray-600 text-center mb-12 max-w-2xl mx-auto">
          Confíe en la calidad y el respaldo de una marca líder a nivel mundial.
        </p>
        
        <div class="grid md:grid-cols-2 gap-8">
          <!-- Tarjeta Marca Agrícola -->
          <div class="bg-white rounded-lg shadow-lg overflow-hidden transition-transform duration-300 hover:scale-[1.03] flex flex-col">
            <div class="relative h-64 w-full">
              <img 
                src="https://i.ibb.co/j9ryXzCf/P4000.jpg" 
                alt="Tractor Lovol Agrícola" 
                class="w-full h-full object-cover"
                crossOrigin="anonymous"
                onError="(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/600x400/cccccc/333333?text=Lovol'; }"
              />
              <div class="absolute inset-0 bg-black/40"></div>
            </div>
            <div class="p-6 flex-grow flex flex-col">
              <h3 class="text-2xl font-bold text-gray-900 mb-2">Lovol Agrícola</h3>
              <p class="text-gray-600 mb-6 flex-grow">Tractores y maquinaria de alto rendimiento para el campo.</p>
              <a 
                href="#agricultural"
                class="mt-auto inline-block text-white font-bold py-3 px-6 rounded-lg text-md transition-colors duration-300 shadow-lg bg-green-700 hover:bg-green-800 shadow-green-500/30"
              >
                Ver Equipos Agrícolas
              </a>
            </div>
          </div>
          <!-- Tarjeta Marca Construcción -->
          <div class="bg-white rounded-lg shadow-lg overflow-hidden transition-transform duration-300 hover:scale-[1.03] flex flex-col">
            <div class="relative h-64 w-full">
              <img 
                src="https://i.ibb.co/5XvnS9F9/RETROEXCAVADORA-FB878-M.jpg" 
                alt="Excavadora Lovol Construcción" 
                class="w-full h-full object-cover"
                crossOrigin="anonymous"
                onError="(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/600x400/cccccc/333333?text=Lovol'; }"
              />
              <div class="absolute inset-0 bg-black/40"></div>
            </div>
            <div class="p-6 flex-grow flex flex-col">
              <h3 class="text-2xl font-bold text-gray-900 mb-2">Lovol Construcción</h3>
              <p class="text-gray-600 mb-6 flex-grow">Equipos robustos para excavación, carga y todo tipo de obra.</p>
              <a 
                href="#construction"
                class="mt-auto inline-block text-white font-bold py-3 px-6 rounded-lg text-md transition-colors duration-300 shadow-lg bg-[#f39c12] hover:bg-[#e67e22] shadow-yellow-500/30"
              >
                Ver Equipos de Construcción
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- --- Componente AgriculturalSection --- -->
    <section id="agricultural" class="py-16 sm:py-24 bg-white font-inter">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl sm:text-4xl font-extrabold text-green-700 text-center mb-4">
          Equipos Agrícola
        </h2>
        <p class="text-lg text-gray-600 text-center mb-12 max-w-2xl mx-auto">
          Equipos robustos y eficientes para cada tipo de cultivo, desde la preparación del terreno hasta la cosecha.
        </p>
        
        <div id="agricultural-products" class="grid md:grid-cols-3 gap-8">
          <!-- Los productos se cargarán aquí con JS -->
        </div>
      </div>
    </section>

    <!-- --- Componente ConstructionSection --- -->
    <section id="construction" class="py-16 sm:py-24 bg-gray-50 font-inter">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl sm:text-4xl font-extrabold text-[#f39c12] text-center mb-4">
          Equipos de Construcción
        </h2>
        <p class="text-lg text-gray-600 text-center mb-12 max-w-2xl mx-auto">
          Maquinaria diseñada para resistir las condiciones más exigentes, garantizando rendimiento y durabilidad.
        </p>
        
        <div id="construction-products" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Los productos se cargarán aquí con JS -->
        </div>
      </div>
    </section>

    <!-- --- Componente Contact --- -->
    <section id="contact" class="py-16 sm:py-24 bg-white font-inter">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 text-center mb-4">
          Contáctenos
        </h2>
        <p class="text-lg text-gray-600 text-center mb-12 max-w-2xl mx-auto">
          ¿Listo para empezar? Envíenos un mensaje o visítenos. Nuestro equipo está listo para asesorarle.
        </p>
        
        <div class="grid md:grid-cols-2 gap-12 mt-12">
          <!-- Formulario -->
          <div class="bg-white p-8 rounded-lg shadow-lg border border-gray-100">
            <form id="contact-form">
              <div class="mb-4">
                <label for="contact-name" class="block text-sm font-medium text-gray-700 mb-1">Nombre</label>
                <input
                  type="text"
                  name="name"
                  id="contact-name"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
                />
              </div>
              <div class="mb-4">
                <label for="contact-email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <input
                  type="email"
                  name="email"
                  id="contact-email"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
                />
              </div>

              <div class="mb-4">
                <label for="contact-phone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label>
                <input
                  type="tel"
                  name="phone"
                  id="contact-phone"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
                />
              </div>

              <div class="mb-4">
                <label for="contact-equipment" class="block text-sm font-medium text-gray-700 mb-1">Equipo de Interés (Opcional)</label>
                <select
                  name="equipment"
                  id="contact-equipment"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 bg-white"
                >
                  <option value="">-- Seleccione un equipo --</option>
                  <!-- Opciones se cargarán con JS -->
                </select>
              </div>

              <div class="mb-4">
                <label for="contact-message" class="block text-sm font-medium text-gray-700 mb-1">Mensaje</label>
                <textarea
                  name="message"
                  id="contact-message"
                  rows="4"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
                ></textarea>
              </div>
              <button
                type="submit"
                id="submit-button"
                class="w-full bg-green-700 hover:bg-green-800 text-white font-bold py-3 px-6 rounded-lg text-md transition-colors duration-300 shadow-lg shadow-green-500/30 disabled:opacity-50 disabled:cursor-wait"
              >
                Enviar Mensaje
              </button>
              
              <p id="status-success" class="text-green-600 mt-4 text-center font-medium hidden">¡Mensaje enviado con éxito!</p>
              <p id="status-error" class="text-red-600 mt-4 text-center font-medium hidden">Error al enviar. Verifique la URL o intente de nuevo.</p>
            </form>
          </div>

          <!-- Información de Contacto -->
          <div class="space-y-6">
            <div class="flex items-start">
              <div class="flex-shrink-0 bg-green-100 text-green-700 rounded-lg p-3">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                  <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path>
                  <circle cx="12" cy="10" r="3"></circle>
                </svg>
              </div>
              <div class="ml-4">
                <h3 class="text-lg font-semibold text-gray-900">Nuestra Oficina</h3>
                <p class="text-gray-600">San José, Costa Rica</p>
                <p class="text-gray-600">Av. 51, Las Ánimas, Uruca, San Jose.</p>
              </div>
            </div>
            <div class="flex items-start">
              <div class="flex-shrink-0 bg-green-100 text-green-700 rounded-lg p-3">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                  <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                </svg>
              </div>
              <div class="ml-4">
                <h3 class="text-lg font-semibold text-gray-900">Llámenos</h3>
                <p class="text-gray-600">(+506) 6165-6859</p>
                <p class="text-gray-600">Lunes - Viernes: 8:00 AM - 5:00 PM</p>
              </div>
            </div>
            <div class="flex items-start">
              <div class="flex-shrink-0 bg-green-100 text-green-700 rounded-lg p-3">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                  <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                  <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                </svg>
              </div>
              <div class="ml-4">
                <h3 class="text-lg font-semibold text-gray-900">Email</h3>
                <p class="text-gray-600">gsoto@petraxlatam.com</p>
                <p class="text-gray-600">Envíenos sus consultas en cualquier momento</p>
              </div>
            </div>
          </div>
          
        </div>
      </div>
    </section>

  </main>

  <!-- --- Componente Footer --- -->
  <footer class="bg-gray-800 text-gray-300 font-inter">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <div class="flex flex-col md:flex-row justify-between items-center">
        
        <div>
          <img 
            src="https://i.ibb.co/tNKj65j/Chat-GPT-Image-1-nov-2025-12-01-19-p-m.png" 
            alt="Logo PETRAX" 
            class="h-20 sm:h-24 mb-4"
            crossOrigin="anonymous"
            onError="(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/150x80/ffffff/333333?text=PETRAX'; }"
          />
          <p class="mt-2 max-w-md">
            Potencia y Eficiencia para su Proyecto.
            Representantes oficiales de Lovol.
          </p>
        </div>
        
        <div class="flex space-x-6 mt-6 md:mt-0">
          <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200" aria-label="Facebook">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
              <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
            </svg>
          </a>
          <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200" aria-label="Instagram">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
              <rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect>
              <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
              <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
            </svg>
          </a>
        </div>

      </div>
      <hr class="my-8 border-gray-700" />
      <div class="text-center text-gray-400 text-sm">
        © 2025 PETRAX. Todos los derechos reservados.
      </div>
    </div>
  </footer>

  <!-- --- Componente WhatsAppButton --- -->
  <div class="fixed bottom-10 right-10 z-50 flex items-center group">
    <span class="bg-white text-gray-800 px-4 py-2 rounded-lg shadow-lg mr-4 opacity-0 group-hover:opacity-100 scale-0 group-hover:scale-100 transition-all duration-300 origin-right">
      ¿Necesitas ayuda? Chatea con nosotros
    </span>
    <a 
      href="https://wa.me/50661656859?text=Hola" 
      target="_blank" 
      rel="noopener noreferrer"
      class="w-[60px] h-[60px] bg-[#25d366] hover:bg-green-600 text-white rounded-full shadow-lg transition-transform duration-300 group-hover:scale-110 flex items-center justify-center"
      aria-label="Contactar por WhatsApp"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8">
        <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.451 0-9.887 4.434-9.889 9.886-.001 2.269.655 4.388 1.88 6.138l-.001.002 1.35 4.45-3.019.789zm7.398-5.897c-.197-.099-1.17-.578-1.353-.646-.182-.068-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.228.148-.418.05-.19-.098-1.108-.406-2.108-1.289-.793-.681-1.339-1.516-1.489-1.78-.15-.264-.08-.419.016-.548.098-.132.228-.347.342-.523.114-.176.151-.293.228-.488.077-.197.039-.372-.02-.471-.058-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007s-.369.049-.566.248c-.198.198-.765.748-.765 1.811s.787 2.101.898 2.234c.113.132 1.535 2.339 3.71 3.249.537.22 1.045.33 1.416.43.708.17 1.36.12 1.861-.09c.559-.22 1.17-.578 1.336-.693.166-.114.166-.208.114-.307s-.445-.514-.612-.693c-.161-.176-.324-.198-.445-.099z"/>
      </svg>
    </a>
  </div>
  
  <!-- --- Modal del Producto (Oculto por defecto) --- -->
  <div id="product-modal" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 animate-fadeIn hidden">
    <div class="bg-white rounded-lg shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()">
      
      <!-- Contenedor del Carrusel -->
      <div class="relative group">
        <!-- Imagen Principal -->
        <div class="w-full h-64 sm:h-80 lg:h-96 bg-gray-200">
          <img 
            id="modal-carousel-image"
            src="" 
            alt="Imagen de producto"
            class="w-full h-full object-cover rounded-t-lg transition-opacity duration-300"
            crossOrigin="anonymous"
            onError="(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/600x400/cccccc/333333?text=Imagen+no+disponible'; }"
          />
        </div>

        <!-- Botón de Cerrar -->
        <button 
          id="modal-close-x"
          class="absolute top-4 right-4 bg-white/70 rounded-full p-2 text-gray-800 hover:bg-white transition-colors z-20"
          aria-label="Cerrar modal"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>

        <!-- Flecha Izquierda -->
        <button 
          id="modal-carousel-prev"
          class="absolute top-1/2 left-2 -translate-y-1/2 bg-white/50 hover:bg-white rounded-full p-2 text-gray-800 transition-all opacity-0 group-hover:opacity-100 z-10"
          aria-label="Imagen anterior"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="m15 18-6-6 6-6" />
          </svg>
        </button>
        <!-- Flecha Derecha -->
        <button 
          id="modal-carousel-next"
          class="absolute top-1/2 right-2 -translate-y-1/2 bg-white/50 hover:bg-white rounded-full p-2 text-gray-800 transition-all opacity-0 group-hover:opacity-100 z-10"
          aria-label="Siguiente imagen"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="m9 18 6-6-6-6" />
          </svg>
        </button>
        
        <!-- Puntos Indicadores -->
        <div id="modal-carousel-dots" class="absolute bottom-4 left-0 right-0 flex justify-center gap-2 z-10">
          <!-- Los puntos se cargarán aquí con JS -->
        </div>
      </div>
      
      <!-- Contenido del Modal -->
      <div class="p-6 sm:p-8">
        <h2 id="modal-title" class="text-2xl sm:text-3xl font-bold text-gray-900 mb-2"></h2>
        <p id="modal-description" class="text-lg text-gray-600 mb-6"></p>
        
        <h3 class="text-xl font-semibold text-gray-900 mb-3">Especificaciones</h3>
        <ul id="modal-specs-list" class="list-disc list-inside space-y-2 text-gray-600">
          <!-- Las especificaciones se cargarán aquí con JS -->
        </ul>

        <button
          id="modal-quote-button"
          class="mt-8 w-full bg-green-700 hover:bg-green-800 text-white font-bold py-3 px-6 rounded-lg text-md transition-colors duration-300 shadow-lg shadow-green-500/30"
        >
          Cotizar este equipo
        </button>
      </div>
    </div>
  </div>


  <!-- --- TODO EL JAVASCRIPT DE LA APLICACIÓN --- -->
  <script>
    // --- DATOS DE PRODUCTOS ---
    const agriculturalProducts = [
      {
        title: 'Tractor LOVOL P4000 (90-110HP)',
        description: 'Rango de potencia: (90-110HP)',
        imageUrls: [
          "https://i.ibb.co/r2RQzdCS/P4000-NUEVO.jpg",
          "https://i.ibb.co/99S3ySdJ/P4000-NUEVO-1.jpg",
          "https://i.ibb.co/Ff6Fy1t/P4000-NUEVO-2.jpg",
          "https://i.ibb.co/gZWN7M3y/P4000.jpg"
        ],
        altText: 'Tractor agrícola Lovol Serie P4000',
        specs: [
          'Motor Weichai: WP4.6N, 4 cilindros, 4.58 L, 490 N·m',
          'Transmisión: 12+12 o 18+18 (Sincronizador o Inversor)',
          'Embrague: Doble acción (seco o húmedo)',
          'Control: 4WD y bloqueo de diferencial (Eléctrico)',
          'Toma de Fuerza (PTO): 540/1000 r/min',
          'Cabina: Disponible en CAB (cerrada) o ROPS'
        ]
      },
      {
        title: 'Tractor LOVOL P5000 (130 HP)',
        description: 'Motor Weichai de 130 HP',
        imageUrls: [
          "https://i.ibb.co/xtfxYBGh/traktor-lovol-p5130-2024-2-1280x960.jpg",
          "https://i.ibb.co/t6769Gr/traktor-lovol-p5130-2024-4-1280x960.jpg",
          "https://i.ibb.co/vx4DfgDQ/traktor-lovol-p5130-2024-5-1280x960.jpg",
          "https://i.ibb.co/0RtqRSnt/traktor-lovol-p5130-2024-1-1280x960.jpg"
        ],
        altText: 'Tractor Lovol Serie P5000',
        specs: [
          'Motor: Weichai WP4.6N, 4 cilindros, 4.6 L',
          'Potencia: 130 hp (95.6 kW)',
          'Par Máximo: 595 N·m',
          'Transmisión: Power shift 45+15',
          'Toma de Fuerza (PTO): 540/1000 r/min',
          'Cabina: Con aire acondicionado y vistas panorámicas'
        ]
      },
      {
        title: 'Tractor LOVOL P7000 (240 HP)',
        description: 'Motor Weichai WP7 de 240 HP',
        imageUrls: [
          'https://i.ibb.co/9HM57VqF/P7240-1.jpg',
          'https://i.ibb.co/Fq3mfBFV/P7240-2.jpg',
          'https://i.ibb.co/35zwLp19/P7240-4.jpg',
          'https://i.ibb.co/39FsgKxV/P7240-5.jpg',
          'https://i.ibb.co/d0MMhZLY/P7240-6.jpg',
          'https://i.ibb.co/kggVBqvq/P7240-7.jpg'
        ],
        altText: 'Tractor Lovol de alta potencia Serie P7000',
        specs: [
          'Motor: Weichai WP7, 6 cilindros, 7.47 L',
          'Potencia: 240 hp',
          'Par Máximo: 1114 N·m',
          'Transmisión: CVT (Variable Continua) 0-40 km/h',
          'Tanque de Combustible: 420 L',
          'Cabina: 4 pilares, amortiguada, visión 360°'
        ]
      }
    ];

    const constructionProducts = [
      {
        title: 'Miniexcavadora FR60E2-H (6t)',
        description: 'Eficiencia y precisión, motor YANMAR 4TNV94L.',
        imageUrls: [
          'https://i.ibb.co/M5VPq338/IMG-3464.jpg',
          'https://i.ibb.co/sdgrWtqH/ZYC3659.jpg',
          'https://i.ibb.co/nMnk2JjG/IMG-3471.jpg',
          'https://i.ibb.co/hxBQqDxc/IMG-3469.jpg',
          'https://i.ibb.co/Wp50Mzr4/IMG-3467.jpg',
          'https://i.ibb.co/pvMyK6kN/IMG-3465.jpg',
          'https://i.ibb.co/qFDbpfVx/ZYC3614.jpg'
        ],
        altText: 'Miniexcavadora Lovol FR60E2-H',
        specs: [
          'Motor: YANMAR 4TNV94L (36.2 kW)',
          'Cilindrada: 3.054 L (4 cilindros)',
          'Par Máximo: 198 N·m / 1400 rpm',
          'Capacidad de Cuchara: 0.23 m³',
          'Fuerza Excav. Cuchara: 50 kN',
          'Fuerza Excav. Brazo: 31 kN'
        ]
      },
      {
        title: 'Miniexcavadora FR80E2 (8t)',
        description: 'Compacta y ágil, motor YANMAR 4TNV98.',
        imageUrls: [
          'https://i.ibb.co/tMVDMCgk/MINIEXCAVADORA-FR80.jpg',
          'https://i.ibb.co/0jpDnxSb/E126-E0-E85887159825-C0-CB9-CC49-D0-A58.jpg',
          'https://i.ibb.co/S9g4296/DSC02883.jpg',
          'https://i.ibb.co/PvPT7qTM/90230-DEB984-DEFCF1-C25-FA1-B5-AB5-E097.jpg',
          'https://i.ibb.co/jP6wG7cR/2-C0-A86-C3-A069-E9204220-F5-C7-C67733-D0.jpg'
        ],
        altText: 'Miniexcavadora Lovol FR80E2',
        specs: [
          'Motor: YANMAR 4TNV98 (44.4 kW)',
          'Cilindrada: 3.32 L (4 cilindros)',
          'Par Máximo: 237 N·m / 1400 rpm',
          'Capacidad de Cuchara: 0.3 m³',
          'Fuerza Excav. Cuchara: 56 kN',
          'Velocidad de Giro: 11.5 r/min'
        ]
      },
      {
        title: 'Excavadora FR130E2-H (13t)',
        description: 'Fiabilidad, motor Cummins o Weichai.',
        imageUrls: [
          'https://i.ibb.co/LhJxLGCC/EXCAVADORA-FR130-E.jpg',
          'https://i.ibb.co/0jpDnxSb/E126-E0-E85887159825-C0-CB9-CC49-D0-A58.jpg',
          'https://i.ibb.co/S9g4296/DSC02883.jpg',
          'https://i.ibb.co/PvPT7qTM/90230-DEB984-DEFCF1-C25-FA1-B5-AB5-E097.jpg',
          'https://i.ibb.co/jP6wG7cR/2-C0-A86-C3-A069-E9204220-F5-C7-C67733-D0.jpg'
        ],
        altText: 'Excavadora Lovol FR130E2-H',
        specs: [
          'Motor: Cummins QSF3.8 (86 kW) o Weichai WP4.1 (92 kW)',
          'Cilindrada: 3.76L o 4.1L',
          'Par Máximo: 480 N·m o 470 N·m',
          'Capacidad de Cuchara: 0.5 m³ - 0.56 m³',
          'Fuerza Excav. Cuchara: 91 kN',
          'Fuerza Máx. Tracción: 115 kN'
        ]
      },
      {
        title: 'Excavadora FR150E2 (15t)',
        description: 'Motor Cummins QSF3.8.',
        imageUrls: [
          'https://i.ibb.co/v75jMFR/FR150E2.jpg',
          'https://i.ibb.co/ch9qMmw1/FR150E2.jpg',
          'https://i.ibb.co/tpHpjXNf/FR150-E2-2.jpg'
        ],
        altText: 'Excavadora Lovol FR150E2',
        specs: [
          'Motor: Cummins QSF3.8 (86 kW)',
          'Cilindrada: 3.8 L (4 cilindros)',
          'Par Máximo: 470 N·m (1100-1700 rpm)',
          'Capacidad de Cuchara: 0.6 m³',
          'Fuerza Excav. Cuchara: 101 kN',
          'Fuerza Máx. Tracción: 115 kN'
        ]
      },
      {
        title: 'Excavadora FR200E2 (20t)',
        description: 'Potencia superior, motor ISUZU 4HK1.',
        imageUrls: ['https://i.ibb.co/s0k4GdS/EXCAVADORA-FR200-F.jpg'],
        altText: 'Excavadora Lovol FR200E2',
        specs: [
          'Motor: ISUZU 4HK1 (133 kW)',
          'Cilindrada: 5.193 L (4 cilindros)',
          'Par Máximo: 657 N·m / 1500 rpm',
          'Capacidad de Cuchara: 0.96 m³',
          'Fuerza Excav. Cuchara: 156 kN',
          'Fuerza Máx. Tracción: 217 kN'
        ]
      },
      {
        title: 'Retroexcavadora FB878M',
        description: 'Motor WEICHAI WP4.1G100E311 Supercargador',
        imageUrls: ['https://i.ibb.co/5XvnS9F9/RETROEXCAVADORA-FB878-M.jpg'],
        altText: 'Retroexcavadora Lovol FB878M',
        specs: [
          'Motor: WEICHAI WP4.1G100E311 (74 kW)',
          'Cilindrada: 4.088 L (4 cilindros)',
          'Par Máximo: 420 N·m',
          'Sist. Hidráulico: Detección de carga (25 MPa)',
          'Balde Cargador: 1.0 m³',
          'Balde Excavador: 0.18 m³'
        ]
      }
    ];

    // --- ESTADO GLOBAL ---
    let currentModalProduct = null;
    let currentModalImageIndex = 0;

    // --- FUNCIÓN PARA CREAR TARJETAS DE PRODUCTO ---
    function createProductCard(product, productIndex, type) {
      const buttonStyles = type === 'construction'
        ? 'text-[#f39c12] hover:text-[#e67e22]'
        : 'text-green-700 hover:text-green-800';

      return `
        <div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col transition-transform duration-300 hover:scale-[1.03]">
          <img 
            src="${product.imageUrls[0]}" 
            alt="${product.altText}" 
            class="w-full h-56 object-cover"
            crossOrigin="anonymous"
            onError="this.onerror=null;this.src='https://placehold.co/400x300/cccccc/333333?text=Equipo';"
          />
          <div class="p-6 flex-grow flex flex-col">
            <h3 class="text-xl font-bold text-gray-900 mb-2">${product.title}</h3>
            <p class="text-gray-600 mb-4 flex-grow">${product.description}</p>
            <button 
              onclick="openModal(${productIndex}, '${type}')"
              class="mt-auto font-semibold transition-colors duration-200 self-start ${buttonStyles}"
            >
              Ver más →
            </button>
          </div>
        </div>
      `;
    }

    // --- LÓGICA DEL MODAL ---
    const productModal = document.getElementById('product-modal');
    const modalCloseX = document.getElementById('modal-close-x');
    const modalQuoteButton = document.getElementById('modal-quote-button');
    
    const modalTitle = document.getElementById('modal-title');
    const modalDescription = document.getElementById('modal-description');
    const modalSpecsList = document.getElementById('modal-specs-list');
    
    const modalCarouselImage = document.getElementById('modal-carousel-image');
    const modalCarouselPrev = document.getElementById('modal-carousel-prev');
    const modalCarouselNext = document.getElementById('modal-carousel-next');
    const modalCarouselDots = document.getElementById('modal-carousel-dots');

    function openModal(index, type) {
      currentModalProduct = type === 'agricultural' ? agriculturalProducts[index] : constructionProducts[index];
      currentModalImageIndex = 0;
      updateModalContent();
      productModal.classList.remove('hidden');
    }

    function closeModal() {
      productModal.classList.add('hidden');
      currentModalProduct = null;
    }

    function updateModalContent() {
      if (!currentModalProduct) return;

      modalTitle.textContent = currentModalProduct.title;
      modalDescription.textContent = currentModalProduct.description;
      
      // Limpiar y llenar especificaciones
      modalSpecsList.innerHTML = '';
      currentModalProduct.specs.forEach(spec => {
        const li = document.createElement('li');
        li.textContent = spec;
        modalSpecsList.appendChild(li);
      });
      
      updateModalCarousel();
    }
    
    function updateModalCarousel() {
      if (!currentModalProduct) return;
      
      // Actualizar imagen principal
      modalCarouselImage.src = currentModalProduct.imageUrls[currentModalImageIndex];
      modalCarouselImage.alt = `${currentModalProduct.altText} (${currentModalImageIndex + 1}/${currentModalProduct.imageUrls.length})`;

      // Mostrar/Ocultar flechas y puntos
      const showControls = currentModalProduct.imageUrls.length > 1;
      modalCarouselPrev.style.display = showControls ? 'block' : 'none';
      modalCarouselNext.style.display = showControls ? 'block' : 'none';
      modalCarouselDots.style.display = showControls ? 'flex' : 'none';
      
      // Actualizar puntos
      modalCarouselDots.innerHTML = '';
      if (showControls) {
        currentModalProduct.imageUrls.forEach((_, index) => {
          const dot = document.createElement('button');
          dot.className = `w-3 h-3 rounded-full transition-colors ${
            index === currentModalImageIndex ? 'bg-white' : 'bg-white/50 hover:bg-white/75'
          }`;
          dot.setAttribute('aria-label', `Ir a imagen ${index + 1}`);
          dot.onclick = () => {
            currentModalImageIndex = index;
            updateModalCarousel();
          };
          modalCarouselDots.appendChild(dot);
        });
      }
    }
    
    // Event Listeners del Modal
    modalCarouselPrev.addEventListener('click', () => {
      currentModalImageIndex = currentModalImageIndex === 0 ? currentModalProduct.imageUrls.length - 1 : currentModalImageIndex - 1;
      updateModalCarousel();
    });
    
    modalCarouselNext.addEventListener('click', () => {
      currentModalImageIndex = currentModalImageIndex === currentModalProduct.imageUrls.length - 1 ? 0 : currentModalImageIndex + 1;
      updateModalCarousel();
    });

    productModal.addEventListener('click', closeModal);
    modalCloseX.addEventListener('click', closeModal);
    modalQuoteButton.addEventListener('click', () => {
      closeModal();
      document.getElementById('contact').scrollIntoView();
    });

    // --- LÓGICA DEL MENÚ MÓVIL ---
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    
    mobileMenuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
    
    // Cerrar menú al hacer clic en un enlace
    document.querySelectorAll('#mobile-menu a').forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
      });
    });

    // --- LÓGICA DEL FORMULARIO DE CONTACTO ---
    const contactForm = document.getElementById('contact-form');
    const contactEquipmentSelect = document.getElementById('contact-equipment');
    const contactMessage = document.getElementById('contact-message');
    const submitButton = document.getElementById('submit-button');
    const statusSuccess = document.getElementById('status-success');
    const statusError = document.getElementById('status-error');

    function populateEquipmentSelect() {
      // Grupo Agrícola
      const agricolaGroup = document.createElement('optgroup');
      agricolaGroup.label = 'Equipos Agrícola';
      agriculturalProducts.forEach(product => {
        const option = document.createElement('option');
        option.value = product.title;
        option.textContent = product.title;
        agricolaGroup.appendChild(option);
      });
      contactEquipmentSelect.appendChild(agricolaGroup);

      // Grupo Construcción
      const constructionGroup = document.createElement('optgroup');
      constructionGroup.label = 'Equipos de Construcción';
      constructionProducts.forEach(product => {
        const option = document.createElement('option');
        option.value = product.title;
        option.textContent = product.title;
        constructionGroup.appendChild(option);
      });
      contactEquipmentSelect.appendChild(constructionGroup);
    }
    
    // Rellenar mensaje automático
    contactEquipmentSelect.addEventListener('change', (e) => {
      const selectedValue = e.target.value;
      if (selectedValue === "") {
        contactMessage.value = "";
      } else {
        contactMessage.value = `Hola,\n\nEstoy interesado/a en el equipo: ${selectedValue}.\n\n¿Podrían por favor enviarme una cotización y más detalles?\n\nMuchas gracias.`;
      }
    });
    
    // Enviar Webhook
    contactForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      submitButton.disabled = true;
      submitButton.textContent = 'Enviando...';
      statusSuccess.classList.add('hidden');
      statusError.classList.add('hidden');

      const webhookUrl = "https://n8n-n8n.tnydnz.easypanel.host/webhook/WebPetrax";
      
      const payload = {
        Nombre: document.getElementById('contact-name').value,
        Email: document.getElementById('contact-email').value,
        Telefono: document.getElementById('contact-phone').value,
        Mensaje: contactMessage.value,
        Equipo: contactEquipmentSelect.value
      };

      try {
        const response = await fetch(webhookUrl, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload),
        });

        if (response.ok) {
          statusSuccess.classList.remove('hidden');
          contactForm.reset();
          contactMessage.value = ''; // Asegurarse de limpiar el textarea
          setTimeout(() => statusSuccess.classList.add('hidden'), 3000);
        } else {
          console.error('Error del webhook, estado:', response.status, response.statusText);
          throw new Error(`Error en el servidor del webhook: ${response.status}`);
        }
      } catch (error) {
        console.error('Error al enviar el webhook:', error);
        statusError.classList.remove('hidden');
      } finally {
        submitButton.disabled = false;
        submitButton.textContent = 'Enviar Mensaje';
      }
    });

    // --- INICIALIZACIÓN ---
    document.addEventListener('DOMContentLoaded', () => {
      // Cargar tarjetas de productos Agrícola
      const agricolaContainer = document.getElementById('agricultural-products');
      agriculturalProducts.forEach((product, index) => {
        agricolaContainer.innerHTML += createProductCard(product, index, 'agricultural');
      });

      // Cargar tarjetas de productos Construcción
      const constructionContainer = document.getElementById('construction-products');
      constructionProducts.forEach((product, index) => {
        constructionContainer.innerHTML += createProductCard(product, index, 'construction');
      });
      
      // Cargar opciones del formulario
      populateEquipmentSelect();
    });

  </script>

</body>
</html>
